{"config":{"sparqlEndpoint":"https://query.wikidata.org/sparql","pageSize":15,"matchQuery":"PREFIX wdt: <http://www.wikidata.org/prop/direct/>\nPREFIX wikibase: <http://wikiba.se/ontology#>\nPREFIX bd: <http://www.bigdata.com/rdf#>\nPREFIX hint: <http://www.bigdata.com/queryHints#>\nSELECT ?queryId ?entity ?label ?score ?description (CONCAT('<img src=\"https://maps.googleapis.com/maps/api/staticmap?size=400x300&key=AIzaSyAAy3JlDfgEgdmGOyeN0e4tcGD2U6_GwGo&zoom=7&markers=',REPLACE(STR(?coordinates),\".*\\\\((.+) (.+)\\\\)\",\"$2,$1\"),'\"/>') AS ?_map) (CONCAT('<a href=\"',STR(?entity),'\" target=\"_blank\">[o]</a>') AS ?url) {\n  hint:Query hint:optimizer \"None\" .\n  { # QUERY\n    {\n      SELECT ?entity ?label (MAX(?ascore) AS ?score) ?coordinates {\n        BIND(STRLANG(REPLACE(<QUERY>,\",.*\",\"\"),\"en\") AS ?label)\n        ?entity ?p ?label .\n        OPTIONAL {\n          BIND(STRLANG(REPLACE(<QUERY>,\".*, \",\"\"),\"en\") AS ?label2)\n          ?entity2 ?p ?label2 .\n          ?entity ?p2 ?entity2 .\n        }\n        BIND(IF(BOUND(?entity2),0.6,0.3) AS ?score1)\n        OPTIONAL {\n          ?entity wdt:P625 ?coordinates .\n        }\n        BIND(IF(BOUND(?coordinates),?score1+0.4,?score1) AS ?ascore) \n      }\n      GROUP BY ?entity ?label ?coordinates\n      ORDER BY DESC(?score)\n      LIMIT 30\n    }\n    BIND(<QUERY_ID> AS ?queryId)\n  } # /QUERY\n  ?entity schema:description ?description .\n  FILTER(LANG(?description)=\"en\")\n}\nORDER BY DESC(?score)"},"state":null}
